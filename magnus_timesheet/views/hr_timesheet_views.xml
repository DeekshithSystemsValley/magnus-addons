<?xml version="1.0" encoding="utf-8"?>
<odoo>
  <data>

    <record id="hr_timesheet_sheet_form_inherited" model="ir.ui.view">
      <field name="name">hr.timesheet.sheet.form</field>
      <field name="model">hr_timesheet_sheet.sheet</field>
      <field name="inherit_id" ref="hr_timesheet_sheet.hr_timesheet_sheet_form"/>
      <field name="arch" type="xml">
        <xpath expr="//group[1]/group[1]" position="before">
          <group>
            <field name="week_id" attrs="{'readonly': [('state', 'not in', ['new'])]}" options="{'no_create': True, 'limit': 0}"/>
          </group>
        </xpath>
        <xpath expr="//notebook/page[1]/widget[1]" position="before">
          <group states="new,draft"/>
          <button name="duplicate_last_week" type="object" string="Duplicate Last Week" states="new,draft"/>
          <group states="new,draft"/>
        </xpath>
        <xpath expr="//field[@name='employee_id']" position="attributes">
          <attribute name="options">{'no_create': True}</attribute>
          <attribute name="attrs">{'readonly': [('state', 'not in', ['new','draft'])]}</attribute>
        </xpath>
        <xpath expr="//field[@name='date_from']" position="attributes">
          <attribute name="readonly">1</attribute>
        </xpath>
        <xpath expr="//field[@name='date_to']" position="attributes">
          <attribute name="readonly">1</attribute>
        </xpath>
        <xpath expr="//tree/field[@name='name']" position="attributes">
          <attribute name="required">0</attribute>
          <attribute name="invisible">1</attribute>
        </xpath>
      </field>
    </record>

    <record id="hr_timesheet_line_tree_inherited" model="ir.ui.view">
      <field name="name">account.analytic.line.tree.hr_timesheet</field>
      <field name="model">account.analytic.line</field>
      <field name="inherit_id" ref="hr_timesheet.hr_timesheet_line_tree"/>
      <field name="arch" type="xml">
        <field name="name" position="attributes">
          <attribute name="invisible">1</attribute>
        </field>
        <field name="project_id" position="before">
          <field name="week_id" string="Timesheet Week"/>
        </field>
      </field>
    </record>

    <record id="hr_timesheet_sheet_tree_simplified_inherited" model="ir.ui.view">
      <field name="name">hr.timesheet.sheet.tree</field>
      <field name="model">hr_timesheet_sheet.sheet</field>
      <field name="inherit_id" ref="hr_timesheet_sheet.hr_timesheet_sheet_tree_simplified"/>
      <field name="arch" type="xml">
        <field name="employee_id" position="after">
          <field name="week_id"/>
        </field>
      </field>
    </record>

    <!--My Timesheets action inherited-->
    <record id="hr_timesheet_sheet.act_hr_timesheet_sheet_my_timesheets" model="ir.actions.act_window">
      <field name="context">{'readonly_by_pass': True}</field>
    </record>

  </data>
</odoo>
